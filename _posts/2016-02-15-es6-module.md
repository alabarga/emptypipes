---
layout: post
title:  "ES6 modules using Webpack and Gulp"
description: ""
tags: javascript es6
---

I've recently been working on making our RNA drawing javascript component more
modular. Having a small simple project afforded me the opportunity to refactor
and organize it such that it can easily be used by and imported into other
projects. Before diving into the organization and configuration details, I
want to briefly mention what exactly it is that I am trying to accomplish.

On the one hand, I have a simple javascript component, called
[fornac](https://github.com/pkerpedjiev/fornac), which renders diagrams of
RNA molecules. It is simple, easy to use, and can be painlessly embedded
into a web page:

# insert image of fornac container

```
    <link rel='stylesheet' type='text/css' href='styles/fornac.css' />
    <script type='text/javascript' src='scripts/fornac.js'></script>
    <script type='text/javascript'>
        var container = new FornaContainer("#rna_ss", {'applyForce': false});

        var options = {'structure': '((..((....)).(((....))).))',
                        'sequence': 'CGCUUCAUAUAAUCCUAAUGACCUAU'
        };

        container.addRNA(options.structure, options);
    </script>
```

What if, however, I wish to use this container in a more complex application?
[Dr. Forna](https://github.com/pkerpedjiev/drforna) is a web application which
pieces together different individual RNA diagrams and arranges them into a 
treemap layout:

# insert image of Dr. Forna

I would like to be able to import `fornac` into `Dr. Forna`, while maintaining
it as its own individual repository. Before ECMAScript 6, there were at least
two different methods ofr exporting javscript modules: CommonJS and AMD, along
with other tools for dynamically loading scripts whenever they were needed
(e.g. Require.js). In ECMAScript 6, modules are included in the syntax of the
language. Now, in my `app/scripts/drforna.js` file I can simply do this:

```
import {FornaContainer} from 'fornac';

var container = new FornaContainer();
```

Fantastic! But how does Dr. Forna know where to find `fornac`? Well, since
it's not a path, then it must be a package. If it's a package, then it must
be either in the `node_modules` or the `bower_components` folder. In order
for it to be found there, it needs to be installed using either `bower` or
`npm`. Fortunately, I had just installed the `fornac` module using:

```
npm install  /home/mescalin/pkerp/projects/fornac
```


